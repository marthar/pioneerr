<!DOCTYPE html>
<html>
  <head>
    <title>Trashy Fish</title>
    <meta name="description" content="trashy fish">
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>

    <style>
      #videoElement {
        width:100%;
        height:100%;
        object-fit: cover;
      }
    </style>

  </head>
    <body style="margin : 0px; overflow: hidden;">
    <video playsinline autoplay loop muted id="videoElement"></video>
    <a-scene gltf-model="dracoDecoderPath: draco_decoder.js;" background="transparent:true; ">

      <a-assets>
        <a-asset-item id="cup" src="assets/starbucks_paper_cup/scene.gltf"></a-asset-item>
        <a-asset-item id="trash" src="assets/banana-lid.gltf"></a-asset-item>
        <a-asset-item id="angel" src="assets/clownfish/scene.gltf"></a-asset-item>
      </a-assets>
  
      <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 40000">
        <a-entity gltf-model="#cup" 
                  scale="0.06 0.06 0.06"
                  position="0 1.6 -9"
                  rotation="0 -90 0">
        </a-entity>
      </a-entity>
      
      <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 30000">
        <a-entity gltf-model="#trash" 
                  scale=".75 .75 .75"
                  position="0 1.2 -4"
                  rotation="-5 -90 0">
        </a-entity>
      </a-entity>
      
        <a-entity animation="property: rotation; to: 0 360 0; loop: true; dur: 20000">
        <a-entity gltf-model="#angel" animation-mixer
                  scale=".15 .15 .15"
                  position="3 1.42 -4.4"
                  rotation="-5 0 0">
        </a-entity>
      </a-entity>
    
    </a-scene>
  </body>
    
    <script>
      document.getElementById("angel").addEventListener("model-error",function(e) { console.log(e); })

      var video = document.querySelector("#videoElement");

      if (navigator.mediaDevices.getUserMedia) {
        navigator.mediaDevices.getUserMedia({ video:  { facingMode: { exact: "environment" } }})
        .then(function (stream) {
          video.srcObject = stream;
        })
        .catch(function (error) {
          console.log("Something went wrong!");
        });
      }
    
    </script>
</html>
